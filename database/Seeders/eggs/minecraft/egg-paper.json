{
	"_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
	"meta": {
		"version": "PTDL_v2",
		"update_url": null
	},
	"exported_at": "2024-05-07T12:55:55+00:00",
	"name": "Paper",
	"author": "parker@pterodactyl.io",
	"description": "High performance Spigot fork that aims to fix gameplay and mechanics inconsistencies.",
	"features": ["eula", "java_version", "pid_limit"],
	"docker_images": {
		"Java 21": "ghcr.io\/pterodactyl\/yolks:java_21",
		"Java 17": "ghcr.io\/pterodactyl\/yolks:java_17",
		"Java 16": "ghcr.io\/pterodactyl\/yolks:java_16",
		"Java 11": "ghcr.io\/pterodactyl\/yolks:java_11",
		"Java 8": "ghcr.io\/pterodactyl\/yolks:java_8"
	},
	"file_denylist": [],
	"startup": "java -Xms128M -XX:MaxRAMPercentage=95.0 -Dterminal.jline=false -Dterminal.ansi=true -jar {{SERVER_JARFILE}}",
	"config": {
		"files": "{\r\n    \"server.properties\": {\r\n        \"parser\": \"properties\",\r\n        \"find\": {\r\n            \"server-ip\": \"0.0.0.0\",\r\n            \"server-port\": \"{{server.build.default.port}}\",\r\n            \"query.port\": \"{{server.build.default.port}}\"\r\n        }\r\n    }\r\n}",
		"startup": "{\r\n    \"done\": \")! For help, type \"\r\n}",
		"logs": "{}",
		"stop": "stop"
	},
	"scripts": {
		"installation": {
			"script": "#!\/bin\/ash\r\n# Paper Installation Script (Fill v3 API)\r\n#\r\n# Server Files: \/mnt\/server\r\nPROJECT=paper\r\n\r\nif [ -n \"${DL_PATH}\" ]; then\r\n\techo -e \"Using supplied download url: ${DL_PATH}\"\r\n\tDOWNLOAD_URL=`eval echo $(echo ${DL_PATH} | sed -e 's\/{{\/${\/g' -e 's\/}}\/}\/g')`\r\nelse\r\n\tif [ \"${MINECRAFT_VERSION}\" == \"latest\" ]; then\r\n\t\tMINECRAFT_VERSION=`curl -s https:\/\/fill.papermc.io\/v3\/projects\/${PROJECT} | jq -r '.versions | to_entries | sort_by(.key | split(\".\") | map(tonumber)) | last | .value[0]'`\r\n\tfi\r\n\r\n\tif [ \"${BUILD_NUMBER}\" == \"latest\" ]; then\r\n\t\tBUILD_JSON=`curl -s https:\/\/fill.papermc.io\/v3\/projects\/${PROJECT}\/versions\/${MINECRAFT_VERSION}\/builds\/latest`\r\n\telse\r\n\t\tBUILD_JSON=`curl -s https:\/\/fill.papermc.io\/v3\/projects\/${PROJECT}\/versions\/${MINECRAFT_VERSION}\/builds\/${BUILD_NUMBER}`\r\n\tfi\r\n\r\n\tDOWNLOAD_URL=`echo $BUILD_JSON | jq -r '.downloads[\"server:default\"].url'`\r\nfi\r\n\r\nif [ \"${DOWNLOAD_URL}\" == \"null\" ] || [ -z \"${DOWNLOAD_URL}\" ]; then\r\n\techo -e \"Error: Could not find download URL for ${PROJECT} ${MINECRAFT_VERSION} (Build: ${BUILD_NUMBER})\"\r\n\texit 1\r\nfi\r\n\r\ncd \/mnt\/server\r\necho -e \"Downloading Paper ${MINECRAFT_VERSION} build ${BUILD_NUMBER}...\"\r\ncurl -sSL -o ${SERVER_JARFILE} \"${DOWNLOAD_URL}\"\r\n",
			"container": "ghcr.io\/pterodactyl\/installers:alpine",
			"entrypoint": "ash"
		}
	},
	"variables": [
		{
			"name": "Minecraft Version",
			"description": "The version of minecraft to download. \r\n\r\nLeave at latest to always get the latest version. Invalid versions will default to latest.",
			"env_variable": "MINECRAFT_VERSION",
			"default_value": "latest",
			"user_viewable": true,
			"user_editable": true,
			"rules": "nullable|string|max:20",
			"field_type": "text"
		},
		{
			"name": "Server Jar File",
			"description": "The name of the server jarfile to run the server with.",
			"env_variable": "SERVER_JARFILE",
			"default_value": "server.jar",
			"user_viewable": true,
			"user_editable": true,
			"rules": "required|regex:\/^([\\w\\d._-]+)(\\.jar)$\/",
			"field_type": "text"
		},
		{
			"name": "Download Path",
			"description": "A URL to use to download a server.jar rather than the ones in the install script. This is not user viewable.",
			"env_variable": "DL_PATH",
			"default_value": "",
			"user_viewable": false,
			"user_editable": false,
			"rules": "nullable|string",
			"field_type": "text"
		},
		{
			"name": "Build Number",
			"description": "The build number for the paper release.\r\n\r\nLeave at latest to always get the latest version. Invalid versions will default to latest.",
			"env_variable": "BUILD_NUMBER",
			"default_value": "latest",
			"user_viewable": true,
			"user_editable": true,
			"rules": "required|string|max:20",
			"field_type": "text"
		}
	]
}
